# ympay

## Описание
ympay - легковесная JavaScript-библиотека для создания форм оплаты через API ЮMoney без необходимости использовать сервер или токен API.

## Подключение
1. По URL с сайта:  
     `<script src="https://ryzhpolsos.ru/js/ympay.js"></script>`
2. По URL с GitHub:  
     `<script src="https://raw.githubusercontent.com/ryzhpolsos/ympay/refs/heads/main/ympay.js"></script>`

## Принцип работы
Вызовите функцию `ympay`, передайте ей номер кошелька и сумму и ожидайте результата оплаты через промис.
```javascript
document.querySelector('#pay-button').addEventListener('click', ()=>{
  ympay('your-wallet-number', 100).then(()=>{
    alert('Пользователь совершил оплату');
  }).catch(()=>{
    alert('Пользователь отменил оплату');
  });
});
```
При вызове функции откроется всплывающее окно с формой оплаты через ЮMoney. После оплаты пользователю будет показана кнопка "Вернуться на сайт", при нажатии этой кнопки окно автоматически закроется и вызовет успешное завершение промиса. Если пользователь закроет окно, промис завершится с ошибкой.

## Документация
`ympay(wallet: string, sum: number): Promise`  
Открывает окно оплаты указанной суммы на указанный кошелёк. При успешном совершении оплаты пользователем промис завершится успешно, а при отмене оплаты - с ошибкой.

`ympconfig(config: Object): void`  
Позволяет настроить параметры всплывающего окна, передавая их в качестве свойств объекта. Ниже перечислены возможные параметры.
- `windowWidth`: ширина окна. По умолчанию равна 1/2 от ширины экрана.
- `windowHeight`: высота окна. По умолчанию равна 1/2 от высоты экрана.
- `windowLeft`: X-координата окна. По умолчанию рассчитывается таким образом, чтобы окно находилось в центре.
- `windowTop`: Y-координата окна. По умолчанию рассчитывается таким образом, чтобы окно находилось в центре.
